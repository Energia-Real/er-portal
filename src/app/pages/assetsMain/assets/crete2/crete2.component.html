<div class="c-new-register">
  <!-- <app-return-bar [urlToGo]="'/assets/management'" [title]="'Crear Planta'"></app-return-bar> -->

  <div class="return-header">
    <mat-icon matTooltip="Regresar">keyboard_backspace</mat-icon>
    <p class="titulo-modal form-padding-title">Crear nueva planta</p>
  </div>

  <div class="row form-padding d-flex">
    <p class="mb-6"><span class="lead">*</span> Campos obligatorios</p>
    <form class="col-12 mt-2" [formGroup]="formData" enctype="multipart/form-data">
      <div>
        <div class="row">
          <div class="col-md-4">

            <mat-form-field class="flex-auto gt-xs:pr-3 inputNewRegister">
              <mat-label>Nombre del sitio</mat-label>
              <input formControlName="name" matInput>
              <mat-error *ngIf="formData.get('name')?.invalid && formData.get('name')?.touched">
                Debe agregar un nombre
              </mat-error>
            </mat-form-field>

            <mat-form-field class="flex-auto gt-xs:pr-3 inputNewRegister">
              <mat-label>Capacidad instalada</mat-label>
              <input formControlName="installedCapacity" matInput>
              <mat-error
                *ngIf="formData.get('installedCapacity')?.invalid && formData.get('installedCapacity')?.touched">
                Debe agregar un nombre
              </mat-error>
            </mat-form-field>

            <mat-form-field class="flex-auto gt-xs:pr-3 inputNewRegister">
              <mat-label>Longuitud</mat-label>
              <input formControlName="longitude" matInput>
              <mat-error *ngIf="formData.get('longitude')?.invalid && formData.get('longitude')?.touched">
                Debe agregar un longitud
              </mat-error>
              <mat-error
                *ngIf="formData.get('longitude')?.errors?.['invalidLongitude'] && (formData.get('longitude')?.dirty || formData.get('longitude')?.touched)">
                La longitud debe estar entre -180 y 180
              </mat-error>
            </mat-form-field>

          </div>

          <div class="col-md-4">

            <mat-form-field class="flex-auto gt-xs:pr-3 inputNewRegister">
              <mat-label>Tipo de contrato</mat-label>
              <mat-select formControlName="contractType" placeholder="Seleccionar">
                <mat-option [value]="1">Hola</mat-option>
              </mat-select>
              <mat-error *ngIf="formData.get('contractType')?.invalid && formData.get('contractType')?.touched">
                Debe agregar un tipo de contrato
              </mat-error>
            </mat-form-field>

            <mat-form-field class="flex-auto gt-xs:pr-3 inputNewRegister">
              <mat-label>Link de Google Maps</mat-label>
              <input formControlName="googleMapsLink" matInput>
              <mat-error *ngIf="formData.get('googleMapsLink')?.invalid && formData.get('googleMapsLink')?.touched">
                Debe agregar un link de Google Maps
              </mat-error>
              <mat-error
                *ngIf="formData.get('googleMapsLink')?.errors?.['urlPrefix'] && (formData.get('googleMapsLink')?.dirty || formData.get('googleMapsLink')?.touched)">
                El url que ingresaste no es valido
              </mat-error>
            </mat-form-field>

          </div>

          <div class="col-md-4">
            <mat-form-field class="flex-auto gt-xs:pr-3 inputNewRegister">
              <mat-label>Tipo de instalación</mat-label>
              <mat-select formControlName="installationType" placeholder="Seleccionar">
                <mat-option [value]="1">Hola</mat-option>
              </mat-select>
              <mat-error *ngIf="formData.get('installationType')?.invalid && formData.get('installationType')?.touched">
                Debe agregar un tipo de instalación
              </mat-error>
            </mat-form-field>

            <mat-form-field class="flex-auto gt-xs:pr-3 inputNewRegister">
              <mat-label>Latitud</mat-label>
              <input formControlName="latitude" matInput>
              <mat-error *ngIf="formData.get('latitude')?.invalid && formData.get('latitude')?.touched">
                Debe agregar un latitude
              </mat-error>
              <mat-error
                *ngIf="formData.get('latitude')?.errors?.['latitudeInvalid'] && (formData.get('latitude')?.dirty || formData.get('latitude')?.touched)">
                La latitud debe estar entre -90 y 90
              </mat-error>
            </mat-form-field>

          </div>
        </div>
      </div>

      <div class="row d-flex justify-content-end align-items-center mb-3">
        <div class="d-flex justify-content-end col-md-3 col-xl-3 col-12 pt-md-2v gap-3">
          <button class="btn-action-cancel">
            <!-- <mat-icon class="material-symbols-outlined">cancel</mat-icon> -->
            <span>Cancelar</span>
          </button>
          <button class="btn-action-add">
            <mat-icon class="material-symbols-outlined"> save</mat-icon>
            <span>Guardar</span>
          </button>
        </div>
      </div>
    </form>
  </div>

</div>